I"LK<h2 id="обязательно-к-прочтению">Обязательно к прочтению</h2>

<p>Эксплойт h-encore для PS Vita \ PS Vita TV позволяет устанавливать homebrew-приложения на главный экран консоли. Он совместим с версиями системного ПО от 3.65 до 3.73.</p>

<p>Имейте ввиду, что этот эксплойт “непривязной” и требует запуска после каждой перезагрузки приставки (имеется ввиду отключение питания или перезагрузка, а не режим сна). Это временное ограничение, пока не будет установлен HENkaku Ensō далее по инструкции.</p>

<p>В дополнение ко всему, мы настроем доступ к “небезопасным” приложениям, что даст приложениям расширенные полномочия в системе. Примерно так же работает запуск от имени администратора в Windows.</p>

<p>В зависимости от версии системного ПО на консоли, будет использоваться разная версия h-encore. Для приставок на 3.65-3.68 - первая версия, для приставок на 3.69 и выше - вторая. Используемое для взлома ПО автоматически установит нужную версию. Ниже, для краткости, на протяжении всей страницы мы будем писать <strong>h-encore</strong> вне зависимости от того, какая версия именно установлена</p>

<p class="notice--info">Если у вас PS Vita 1000, то вам также понадобится официальная карта памяти Sony (любого размера) для выполнения этого руководства. Это ограничение не применяется к PS Vita 2000 или PS TV, поскольку эти консоли имеют встроенную карту памяти.</p>

<h2 id="выберите-версию-вашего-системного-по">Выберите версию вашего системного ПО:</h2>

<div class=".select_fw__wrapper">
  <div class="select_fw">
      <input type="radio" id="365" name="fw" value="365" />
      <label for="365">3.65</label>
      <input type="radio" id="367" name="fw" value="367" />
      <label for="367">3.67 и выше</label>
      <input type="radio" name="fw" id="none" checked="" class="hide" />
  </div>
</div>

<div class="hideble 365 367 370 hide">
<h2 id="инструкция">Инструкция</h2>

</div>

<div class="hideble 370 hide">
<h3 id="обновление-системного-по">Обновление системного ПО</h3>

<p>Так как мы все равно собираемся откатывать прошивку и всё равно собираемся входить в PSN, проще всего будет обновить системное ПО до последней версии сразу, чтобы в дальнейшем избежать лишних действий, направленных на блокировку доступа к серверам Sony. <strong>Если ваша прошивка 3.73, пропустите этот шаг и перехиодите к следующему.</strong></p>

<ol>
  <li>Запустите приложение <strong>Настройки</strong></li>
  <li>Перейдите в “<strong>Сеть</strong>” -&gt; “<strong>Настройки Wi-Fi</strong>” и подключитесь к вашей точке доступа</li>
  <li>Вернитесь на стартовый экран меню <strong>Настройки</strong></li>
  <li>Перейдите в “<strong>Обновление системы</strong>” -&gt; “<strong>Обновить с использованием Wi-Fi</strong>”</li>
  <li>Следуйте инструкциям на экране, чтобы обновить консоль до последней версии системного ПО
    <ul>
      <li>После завершения процесса консоль перезагрузится автоматически</li>
    </ul>
  </li>
</ol>

</div>

<div class="hideble 365 367 370 hide">
<h3 id="final-h-encore">Final h-encore</h3>

<h4 id="установка-final-h-encore">Установка Final h-encore</h4>

<p class="notice--info">Если вы уже использовали это приложение, пропустите установку</p>

<details class="spoiler"><summary class="spoiler-title">Windows</summary><div class="spoiler-body">
<ol>
  <li>Скачайте <code class="language-plaintext highlighter-rouge">7z-архив</code> с <a href="https://github.com/soarqin/finalhe/releases/latest">Final h-encore</a> из репозитория</li>
  <li>Скопируйте содержимое <code class="language-plaintext highlighter-rouge">7z-архива</code> <strong>Final h-encore</strong> в папку на вашем компьютере</li>
</ol>
</div></details>

<details class="spoiler"><summary class="spoiler-title">Linux</summary><div class="spoiler-body">
<p class="notice--warning">Версию для Debian-совместимых дистрибутивов придётся компилировать самому! Версия же для RPM-менеджера пакетов доступна в репозитории. Там же находится и инструкция по установке.</p>

<ol>
  <li>Для компиляции вам понадобятся следующие пакеты: <code class="language-plaintext highlighter-rouge">build-essential libxml2-dev libusb-1.0-0-dev zlib1g-dev qtbase5-dev cmake qt5-default qt5-qmake qtbase5-dev-tools qttools5-dev-tools git qttools5-dev pkg-config</code></li>
  <li>Клонируйте репозиторий в удобную папку. Например, <code class="language-plaintext highlighter-rouge">git clone https://github.com/soarqin/finalhe.git</code></li>
  <li>Перейдите в папку с исходниками программы <code class="language-plaintext highlighter-rouge">cd finalhe/</code></li>
  <li>Выполните команду <code class="language-plaintext highlighter-rouge">cmake</code>, указав в качестве её параметра местонахождение папки с исходниками: <code class="language-plaintext highlighter-rouge">cmake ~/finalhe/</code></li>
  <li>Начните компилирование: <code class="language-plaintext highlighter-rouge">make</code></li>
  <li>После окончания компилирования, запустите программу: <code class="language-plaintext highlighter-rouge">./src/FinalHE</code>. Бинарник программы будет находится в папке <code class="language-plaintext highlighter-rouge">src</code></li>
</ol>

</div></details>

<details class="spoiler"><summary class="spoiler-title">MacOS</summary><div class="spoiler-body">
<ol>
  <li>Установите brew на MacOS, если ранее этого не делали.
    <ul>
      <li>Откройте Терминал, введите: <code class="language-plaintext highlighter-rouge">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></li>
    </ul>
  </li>
  <li>Установите библиотеки QT5 (!) командой <code class="language-plaintext highlighter-rouge">brew install qt5</code> в терминале ОС</li>
  <li>Загрузите и распакуйте архив <a href="files/FinalHE_MacOS_PreBuild.zip" target="_blank">FinalHE_MacOS_PreBuild</a> в любом удобном для вас месте</li>
</ol>

<details class="spoiler"><summary class="spoiler-title">Инструкция для самостоятельного компилирования под MacOS</summary><div class="spoiler-body">
<ol>
  <li>Установить brew командой из терминала: <code class="language-plaintext highlighter-rouge">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</code></li>
  <li>Установить qt5 libs командой из терминала: <code class="language-plaintext highlighter-rouge">brew install libusb qt</code></li>
  <li>Загрузить исходники (source code): <code class="language-plaintext highlighter-rouge">https://github.com/soarqin/finalhe/releases</code></li>
  <li>Загрузить cmake-3.16.2-Darwin-x86_64.dmg по ссылке <code class="language-plaintext highlighter-rouge">https://cmake.org/download/</code></li>
  <li>Запустить программу cmake и указать пути для исходного кода и выходного файла (makefile)</li>
  <li>Нажать “<strong>Configure</strong>”, выбрать тип <strong>Unix Makefile</strong>. Надстройка стандартная.</li>
  <li>Указать поочередно пути: QT - Core / GUI / LinguistTools / Network / PrintSupport / Widgests.</li>
  <li>Нажать “<strong>Generate</strong>” и дождаться выполнения</li>
  <li>Открыть Терминал и выполнить команду <code class="language-plaintext highlighter-rouge">cd ~/finalheс/</code> (путь до директории с makefile)</li>
  <li>Выполнить команду <code class="language-plaintext highlighter-rouge">make</code>. Дождаться завершения компиляции.</li>
  <li>*.exec будет находиться в папке «src» (папка с makefile)</li>
</ol>

</div></details>

</div></details>

<h4 id="использование-final-h-encore">Использование Final h-encore</h4>

<ol>
  <li>Отключить консоль от компьютера</li>
  <li>Переведите консоль в авиарежим (“<strong>Настройки</strong>” -&gt; “<strong>Режим авиаперелета</strong>”)</li>
  <li>Перезагрузите консоль</li>
  <li>Запустите <strong>finalhe</strong> на вашем ПК
    <ul>
      <li>Если у вас компьютер под управлением Windows, и если появится запрос брандмауэра на разрешение доступа к сети для finalhe, разрешите доступ</li>
    </ul>
  </li>
  <li>Запустите на консоли приложение “<strong>Управление данными</strong>”</li>
  <li>Выберите “<strong>Скопировать данные</strong>”</li>
  <li>Выберите “<strong>Компьютер</strong>”</li>
  <li>Выберите метод, который вы хотите использовать для подключения к ПК (по кабелю, или WiFi) и подключите консоль
    <ul>
      <li>Если выбранный метод не работает, попробуйте другой</li>
      <li>При выборе подключения через WiFi, приставка и ПК должны быть подключены к одному роутеру и находится в одной подсети</li>
      <li>Если вы не можете подключиться к уже имеющемуся ПК, удалите его, перезагрузите приставку и finalhe, добавьте подключение заново</li>
    </ul>
  </li>
  <li>Выберите / зарегистрируйте ваш компьютер, если появится запрос</li>
  <li>Введите код подтверждения, который отобразится в окне программы, если устройство не было зарегистрировано
    <ul>
      <li>Если устройство не определяется по USB-кабелю, установите <a href="files/QcmaDriver_winusb.zip">драйвер</a> и попробуйте снова</li>
      <li>Если все сделано верно, в окне программы <strong>Final h-encore</strong> кнопка “<strong>Let’s GO!</strong>” станет активной</li>
      <li>В некоторых случаях требуется вход в PSN, если у вас нет учётки PSN - зарегистрируйте её. Рекомендую делать это с ПК, поскольку так удобнее. После входа в PSN на консоли, перезапустите h-encore и начните подключение заново.</li>
      <li>Если, при подключении по WiFi, у вас постоянно выбивает ошибку, удалите имеющееся подключение и создайте его заново</li>
    </ul>
  </li>
</ol>

<h3 id="установка-h-encore-на-консоль">Установка h-encore на консоль</h3>

<ol>
  <li>Выберите “<strong>Trim h-encore to ~7МБ</strong>”</li>
  <li>Нажмите кнопку “<strong>Let’s GO!</strong>”
    <ul>
      <li>Файлы эксплойта будут автоматически скачаны и подготовлены</li>
      <li>Этот процесс займёт некоторое время</li>
      <li>Когда статус-бар в окне программы будет заполнен на 100%, переходите к следующему пункту</li>
    </ul>
  </li>
  <li>Откройте приложение “<strong>Управление данными</strong>”</li>
  <li>Выберите “<strong>Компьютер -&gt; система PS Vita</strong>” на экране консоли</li>
  <li>Выберите “<strong>Приложения</strong>”</li>
  <li>Выберите “<strong>PS Vita</strong>”</li>
  <li>Отметьте галочкой “<strong>h-encore</strong>”</li>
  <li>Выберите “<strong>Копировать</strong>”</li>
  <li>Выберите “<strong>OK</strong>”
    <ul>
      <li>Эксплойт h-encore будет скопирован на вашу консоль</li>
      <li>Этот процесс займёт некоторое время</li>
    </ul>
  </li>
  <li>Сверните приложение “<strong>Управление данными</strong>” на консоли, нажав кнопку <img src="/images/buttons/PS.png" alt="(PS)" /> и закройте его</li>
  <li>Закройте <strong>Final h-encore</strong> на компьютере
    <ul>
      <li>Если всё сделано верно, на экране приставки появится новый пузырь - “<strong>h-encore</strong>”</li>
    </ul>
  </li>
</ol>

<h3 id="запуск-h-encore">Запуск h-encore</h3>

<ol>
  <li>Подключите консоль к Интернету</li>
  <li>Запустите приложение <strong>h-encore</strong>, держа нажатой кнопку <img src="/images/buttons/R.png" alt="(R)" />
    <ul>
      <li>Если появится запрос о призах, выберите “<strong>Да</strong>”, продолжая держать нажатой кнопку <img src="/images/buttons/R.png" alt="(R)" /></li>
    </ul>
  </li>
  <li>Если эксплойт сработал, вы увидите меню <strong>h-encore bootstrap</strong>
    <ul>
      <li>Если эксплойт завис на белом экране, просто закройте приложение (это приведёт к перезагрузке консоли, если не привело - перезапустите консоль самостоятельно), затем попробуйте снова</li>
      <li>Если это не помогло, удерживайте кнопку питания в течение 30 секунд для принудительной перезагрузки, затем попробуйте снова</li>
    </ul>
  </li>
  <li>Выберите “<strong>Install HENkaku</strong>”
    <ul>
      <li>Это действие установит эксплойт HENkaku и разрешит доступ к хоумбрю до следующей перезагрузки</li>
    </ul>
  </li>
  <li>Выберите “<strong>Download VitaShell</strong>”
    <ul>
      <li>Это действие установит хоумбрю приложение VitaShell для управления файловой системой консоли</li>
      <li>VitaShell (как и все прочие хоумбрю приложения) останется установленным после перезагрузки, но будет выдавать ошибку при запуске, если эксплойт HENkaku не активен</li>
      <li>При возникновении ошибки, убедитесь, что приставка подключена к сети Интернет</li>
    </ul>
  </li>
  <li>Выберите “<strong>Exit</strong>”</li>
</ol>

<p class="notice--warning">В дальнейшем, для запуска достаточно просто войти в приложение и сразу же выйти через “<strong>Exit</strong>”</p>

<h3 id="настройка-henkaku">Настройка HENkaku</h3>

<ol>
  <li>Запустите приложение <strong>Настройки</strong></li>
  <li>Перейдите в “<strong>Настройки HENkaku</strong>”</li>
  <li>Установите флажок “<strong>Включить небезопасные приложения</strong>”</li>
  <li>Перейдите в меню “<strong>Поддельная версия</strong>” и пропишите там <code class="language-plaintext highlighter-rouge">3.73</code></li>
  <li>Выберите пункт “<strong>Перезагрузить устройство</strong>”, чтобы перезагрузить приставку</li>
</ol>

<hr />

</div>

<div class="hideble 365 hide">
<h3 class="notice--success" id="следующий-шаг-установка-ensō-365">Следующий шаг: <a href="installing-enso">Установка Ensō (3.65)</a></h3>
</div>

<div class="hideble 367 hide">
<h3 class="notice--success" id="следующий-шаг-понижение-версии-системного-по-до-365">Следующий шаг: <a href="downgrading-firmware">Понижение версии системного ПО до 3.65</a></h3>
</div>
:ET